
<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Image Gallery</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 5px;
        }
        section {
            margin-bottom: 5px;
        }
        h2 {
            margin-bottom: 5px;
            white-space: pre-wrap; /* Allows multiline titles */
        }
        .row {
            display: flex;
            flex-wrap: nowrap; /* Prevents images from wrapping onto multiple lines */
            gap: 5px; /* Reduced gap between images */
            overflow-x: auto; /* Adds horizontal scrollbar if needed */
        }
        .row img {
            max-width: 1600px; /* Ensures images scale down if necessary */
            height: auto;
            flex-shrink: 0; /* Prevents images from shrinking */
        }
    </style>
</head>
<body>
    <h1>Self-Cosine-Similarity Matrices</h1>
    <h3>Each row shows the accuracy transition from the untrained model to the trained model.</h3>
    <h3>Each image shows the self-cosine similarity matrix of the model at a certain training step.</h3>
    <h3>The self-cosine-similarity matrix for the output of a layer of the model is computed as the cosine similarity between the embeddings at different positions.</h3>
    <h3>For a self-cosine-similarity matrix M, the element M[i, j] is the cosine similarity between the embeddings at position i and j.</h3>
    <h3>Each row shows the self-cosine similarity matrix of a certain model at its initialization, the middle of training, and the end of training.</h3>
    <div id="gallery"></div>
    
<script>
    function loadImages() {
        const gallery = document.getElementById('gallery');
        const imagesByModel = {"\n    Positional Encoding:        \"NoPE\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0}    \n    Accuracy Transition: 0 -> 9 -> 95\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405280721_nope_lwpTrue_pmremove00000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405280721_nope_lwpTrue_pmremove00000_ckpt_2750_acc=9.svg", "add3_remove_8_sd240_T2405280721_nope_lwpTrue_pmremove00000_ckpt_5000_acc=95.svg"], "\n    Positional Encoding:        \"NoPE\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {2}    \n    Accuracy Transition: 0 -> 3 -> 92\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405280735_nope_lwpTrue_pm00remove000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405280735_nope_lwpTrue_pm00remove000_ckpt_2750_acc=3.svg", "add3_remove_8_sd240_T2405280735_nope_lwpTrue_pm00remove000_ckpt_5000_acc=92.svg"], "\n    Positional Encoding:        \"NoPE\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0,1}    \n    Accuracy Transition: 0 -> 0 -> 0\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405280749_nope_lwpTrue_pmremoveremove0000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405280749_nope_lwpTrue_pmremoveremove0000_ckpt_2750_acc=0.svg", "add3_remove_8_sd240_T2405280749_nope_lwpTrue_pmremoveremove0000_ckpt_5000_acc=0.svg"], "\n    Positional Encoding:        \"NoPE\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {1,2}    \n    Accuracy Transition: 0 -> 0 -> 0\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405280803_nope_lwpTrue_pm0removeremove000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405280803_nope_lwpTrue_pm0removeremove000_ckpt_2750_acc=0.svg", "add3_remove_8_sd240_T2405280803_nope_lwpTrue_pm0removeremove000_ckpt_5000_acc=0.svg"], "\n    Positional Encoding:        \"NoPE\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0,1,2}    \n    Accuracy Transition: 0 -> 0 -> 0\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405280817_nope_lwpTrue_pmremoveremoveremove000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405280817_nope_lwpTrue_pmremoveremoveremove000_ckpt_2750_acc=0.svg", "add3_remove_8_sd240_T2405280817_nope_lwpTrue_pmremoveremoveremove000_ckpt_5000_acc=0.svg"], "\n    Positional Encoding:        \"NoPE\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {3,4,5}    \n    Accuracy Transition: 0 -> 0 -> 0\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405280833_nope_lwpTrue_pm000removeremoveremove_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405280833_nope_lwpTrue_pm000removeremoveremove_ckpt_2750_acc=0.svg", "add3_remove_8_sd240_T2405280833_nope_lwpTrue_pm000removeremoveremove_ckpt_5000_acc=0.svg"], "\n    Positional Encoding:        \"NoPE\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0,1,2,3,4}    \n    Accuracy Transition: 0 -> 0 -> 0\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405280848_nope_lwpTrue_pmremoveremoveremoveremoveremove0_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405280848_nope_lwpTrue_pmremoveremoveremoveremoveremove0_ckpt_2750_acc=0.svg", "add3_remove_8_sd240_T2405280848_nope_lwpTrue_pmremoveremoveremoveremoveremove0_ckpt_5000_acc=0.svg"], "\n    Positional Encoding:        \"NoPE\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0,1,2,3,4,5}    \n    Accuracy Transition: 0 -> 0 -> 0\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405280905_nope_lwpTrue_pmremoveremoveremoveremoveremoveremove_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405280905_nope_lwpTrue_pmremoveremoveremoveremoveremoveremove_ckpt_2750_acc=0.svg", "add3_remove_8_sd240_T2405280905_nope_lwpTrue_pmremoveremoveremoveremoveremoveremove_ckpt_5000_acc=0.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0}    \n    Accuracy Transition: 0 -> 1 -> 99\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405282009_pmremove00000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405282009_pmremove00000_ckpt_1000_acc=1.svg", "add3_remove_8_sd240_T2405282009_pmremove00000_ckpt_1750_acc=99.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {2}    \n    Accuracy Transition: 0 -> 94 -> 99\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405282017_pm00remove000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405282017_pm00remove000_ckpt_1500_acc=94.svg", "add3_remove_8_sd240_T2405282017_pm00remove000_ckpt_2750_acc=99.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0,1}    \n    Accuracy Transition: 0 -> 2 -> 99\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405282233_pmremoveremove0000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405282233_pmremoveremove0000_ckpt_1250_acc=2.svg", "add3_remove_8_sd240_T2405282233_pmremoveremove0000_ckpt_2250_acc=99.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {1,2}    \n    Accuracy Transition: 0 -> 97 -> 99\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405282247_pm0removeremove000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405282247_pm0removeremove000_ckpt_2250_acc=97.svg", "add3_remove_8_sd240_T2405282247_pm0removeremove000_ckpt_4000_acc=99.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0,1,2}    \n    Accuracy Transition: 0 -> 85 -> 98\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405282316_pmremoveremoveremove000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405282316_pmremoveremoveremove000_ckpt_2750_acc=85.svg", "add3_remove_8_sd240_T2405282316_pmremoveremoveremove000_ckpt_5000_acc=98.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {3,4,5}    \n    Accuracy Transition: 0 -> 83 -> 83\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405282341_pm000removeremoveremove_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405282341_pm000removeremoveremove_ckpt_2750_acc=83.svg", "add3_remove_8_sd240_T2405282341_pm000removeremoveremove_ckpt_5000_acc=83.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0,1,2,3,4}    \n    Accuracy Transition: 0 -> 0 -> 15\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405290011_pmremoveremoveremoveremoveremove0_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405290011_pmremoveremoveremoveremoveremove0_ckpt_2750_acc=0.svg", "add3_remove_8_sd240_T2405290011_pmremoveremoveremoveremoveremove0_ckpt_5000_acc=15.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0,1,2,3,4,5}    \n    Accuracy Transition: 0 -> 0 -> 19\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405290037_pmremoveremoveremoveremoveremoveremove_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405290037_pmremoveremoveremoveremoveremoveremove_ckpt_2750_acc=0.svg", "add3_remove_8_sd240_T2405290037_pmremoveremoveremoveremoveremoveremove_ckpt_5000_acc=19.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       Yes \n    Layers Affected:        {0}    \n    Accuracy Transition: 0 -> 87 -> 99\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405271858_lwpTrue_pmremove00000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405271858_lwpTrue_pmremove00000_ckpt_1000_acc=87.svg", "add3_remove_8_sd240_T2405271858_lwpTrue_pmremove00000_ckpt_1500_acc=99.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       Yes \n    Layers Affected:        {2}    \n    Accuracy Transition: 0 -> 98 -> 99\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405271903_lwpTrue_pm00remove000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405271903_lwpTrue_pm00remove000_ckpt_1750_acc=98.svg", "add3_remove_8_sd240_T2405271903_lwpTrue_pm00remove000_ckpt_3250_acc=99.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       Yes \n    Layers Affected:        {0,1}    \n    Accuracy Transition: 0 -> 86 -> 99\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405271912_lwpTrue_pmremoveremove0000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405271912_lwpTrue_pmremoveremove0000_ckpt_1500_acc=86.svg", "add3_remove_8_sd240_T2405271912_lwpTrue_pmremoveremove0000_ckpt_2500_acc=99.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       Yes \n    Layers Affected:        {1,2}    \n    Accuracy Transition: 0 -> 97 -> 98\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405271920_lwpTrue_pm0removeremove000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405271920_lwpTrue_pm0removeremove000_ckpt_2750_acc=97.svg", "add3_remove_8_sd240_T2405271920_lwpTrue_pm0removeremove000_ckpt_5000_acc=98.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       Yes \n    Layers Affected:        {0,1,2}    \n    Accuracy Transition: 0 -> 11 -> 83\n    Seed: 240\n    ": ["add3_remove_8_lwp_sd240_T2405282232_lwpTrue_pmremoveremoveremove000_ckpt_0_acc=0.svg", "add3_remove_8_lwp_sd240_T2405282232_lwpTrue_pmremoveremoveremove000_ckpt_2750_acc=11.svg", "add3_remove_8_lwp_sd240_T2405282232_lwpTrue_pmremoveremoveremove000_ckpt_5000_acc=83.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       Yes \n    Layers Affected:        {3,4,5}    \n    Accuracy Transition: 0 -> 83 -> 83\n    Seed: 240\n    ": ["add3_remove_8_lwp_sd240_T2405282010_lwpTrue_pm000removeremoveremove_ckpt_0_acc=0.svg", "add3_remove_8_lwp_sd240_T2405282010_lwpTrue_pm000removeremoveremove_ckpt_2000_acc=83.svg", "add3_remove_8_lwp_sd240_T2405282010_lwpTrue_pm000removeremoveremove_ckpt_3500_acc=83.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       Yes \n    Layers Affected:        {0,1,2,3,4}    \n    Accuracy Transition: 0 -> 72 -> 82\n    Seed: 240\n    ": ["add3_remove_8_lwp_sd240_T2405282317_lwpTrue_pmremoveremoveremoveremoveremove0_ckpt_0_acc=0.svg", "add3_remove_8_lwp_sd240_T2405282317_lwpTrue_pmremoveremoveremoveremoveremove0_ckpt_2750_acc=72.svg", "add3_remove_8_lwp_sd240_T2405282317_lwpTrue_pmremoveremoveremoveremoveremove0_ckpt_5000_acc=82.svg"], "\n    Positional Encoding:        \"Original\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       Yes \n    Layers Affected:        {0,1,2,3,4,5}    \n    Accuracy Transition: 0 -> 1 -> 80\n    Seed: 240\n    ": ["add3_remove_8_lwp_sd240_T2405282354_lwpTrue_pmremoveremoveremoveremoveremoveremove_ckpt_0_acc=0.svg", "add3_remove_8_lwp_sd240_T2405282354_lwpTrue_pmremoveremoveremoveremoveremoveremove_ckpt_2750_acc=1.svg", "add3_remove_8_lwp_sd240_T2405282354_lwpTrue_pmremoveremoveremoveremoveremoveremove_ckpt_5000_acc=80.svg"], "\n    Positional Encoding:        \"Sin\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0}    \n    Accuracy Transition: 0 -> 68 -> 96\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405291120_sin_pmremove00000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405291120_sin_pmremove00000_ckpt_2750_acc=68.svg", "add3_remove_8_sd240_T2405291120_sin_pmremove00000_ckpt_5000_acc=96.svg"], "\n    Positional Encoding:        \"Sin\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {2}    \n    Accuracy Transition: 0 -> 5 -> 83\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405291134_sin_pm00remove000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405291134_sin_pm00remove000_ckpt_2750_acc=5.svg", "add3_remove_8_sd240_T2405291134_sin_pm00remove000_ckpt_5000_acc=83.svg"], "\n    Positional Encoding:        \"Sin\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0,1}    \n    Accuracy Transition: 0 -> 23 -> 98\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405291153_sin_pmremoveremove0000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405291153_sin_pmremoveremove0000_ckpt_2750_acc=23.svg", "add3_remove_8_sd240_T2405291153_sin_pmremoveremove0000_ckpt_5000_acc=98.svg"], "\n    Positional Encoding:        \"Sin\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {1,2}    \n    Accuracy Transition: 0 -> 1 -> 62\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405291213_sin_pm0removeremove000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405291213_sin_pm0removeremove000_ckpt_2750_acc=1.svg", "add3_remove_8_sd240_T2405291213_sin_pm0removeremove000_ckpt_5000_acc=62.svg"], "\n    Positional Encoding:        \"Sin\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0,1,2}    \n    Accuracy Transition: 0 -> 0 -> 0\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405291228_sin_pmremoveremoveremove000_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405291228_sin_pmremoveremoveremove000_ckpt_2750_acc=0.svg", "add3_remove_8_sd240_T2405291228_sin_pmremoveremoveremove000_ckpt_5000_acc=0.svg"], "\n    Positional Encoding:        \"Sin\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {3,4,5}    \n    Accuracy Transition: 0 -> 2 -> 8\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405291243_sin_pm000removeremoveremove_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405291243_sin_pm000removeremoveremove_ckpt_2750_acc=2.svg", "add3_remove_8_sd240_T2405291243_sin_pm000removeremoveremove_ckpt_5000_acc=8.svg"], "\n    Positional Encoding:        \"Sin\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0,1,2,3,4}    \n    Accuracy Transition: 0 -> 0 -> 0\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405291258_sin_pmremoveremoveremoveremoveremove0_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405291258_sin_pmremoveremoveremoveremoveremove0_ckpt_2750_acc=0.svg", "add3_remove_8_sd240_T2405291258_sin_pmremoveremoveremoveremoveremove0_ckpt_5000_acc=0.svg"], "\n    Positional Encoding:        \"Sin\" \n    Residual Removal: \"Removing residual connections in the first 8 positions\"\n    Layerwise PE:       No \n    Layers Affected:        {0,1,2,3,4,5}    \n    Accuracy Transition: 0 -> 0 -> 0\n    Seed: 240\n    ": ["add3_remove_8_sd240_T2405291315_sin_pmremoveremoveremoveremoveremoveremove_ckpt_0_acc=0.svg", "add3_remove_8_sd240_T2405291315_sin_pmremoveremoveremoveremoveremoveremove_ckpt_2750_acc=0.svg", "add3_remove_8_sd240_T2405291315_sin_pmremoveremoveremoveremoveremoveremove_ckpt_5000_acc=0.svg"]};
        for (const model in imagesByModel) {
            if (imagesByModel.hasOwnProperty(model)) {
                const section = document.createElement('section');
                const title = document.createElement('h2');
                title.textContent = model;
                section.appendChild(title);
                const row = document.createElement('div');
                row.classList.add('row');
                imagesByModel[model].forEach(file => {
                    const img = document.createElement('img');
                    img.src = 'add3_remove_8/' + file;
                    img.alt = file;
                    row.appendChild(img);
                });
                section.appendChild(row);
                gallery.appendChild(section);
            }
        }
    }
    document.addEventListener('DOMContentLoaded', loadImages);
</script>

</body>
</html>
